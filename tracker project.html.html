<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Expense Tracker</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap');
*{margin:0;padding:0;box-sizing:border-box;font-family:"Poppins",sans-serif;}

body {
  background: linear-gradient(135deg,#3a0ca3,#7209b7,#f72585);
  color:white;
  transition: .5s;
}
body.light { background:#f4f4f4; color:#222; }

/* WELCOME PAGE */
#welcome{
  height:100vh; width:100%;
  display:flex; flex-direction:column;
  justify-content:center; align-items:center;
  text-align:center; padding:20px;
  backdrop-filter:blur(14px);
}
.welcome-box{
  background:rgba(255,255,255,0.18);
  padding:40px 60px;
  border-radius:25px;
  box-shadow:0 10px 25px rgba(0,0,0,0.4);
  animation:fadeIn 1.2s ease;
}
@keyframes fadeIn{from{opacity:0;transform:translateY(30px);}to{opacity:1;transform:translateY(0);}}

.enter-btn{
  margin-top:25px;
  padding:14px 40px; font-size:20px; font-weight:700;
  border:none; border-radius:12px;
  background:linear-gradient(135deg,#00ff95,#00c16a);
  cursor:pointer; color:#000;
  transition:.3s;
}
.enter-btn:hover{ transform:scale(1.1); }

/* MAIN PAGE */
#tracker{ display:none; }

/* HEADER */
.header{
  text-align:center;
  font-size:34px;
  font-weight:800;
  padding:20px 0;
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(10px);
  border-bottom: 2px solid rgba(255,255,255,0.2);
  box-shadow:0 8px 18px rgba(0,0,0,0.4);
}

/* NAVBAR */
.navbar{
  display:flex; justify-content:center; gap:12px;
  padding:14px; margin:20px auto;
  width:95%;
  backdrop-filter:blur(14px);
  background:rgba(255,255,255,0.18);
  border-radius:15px;
  box-shadow:0 8px 18px rgba(0,0,0,0.35);
}
.navbar button, .theme-btn {
  padding:10px 18px; border:none; border-radius:10px;
  font-size:15px; font-weight:600;
  background:linear-gradient(135deg,#00c6ff,#0072ff);
  color:white; cursor:pointer;
  transition:.3s;
}
.navbar button:hover { transform:scale(1.1); }

/* MAIN SECTION */
.container {
  width:90%; margin:auto;
  backdrop-filter:blur(18px);
  background:rgba(255,255,255,0.1);
  border-radius:20px;
  padding:25px;
  box-shadow:0 8px 18px rgba(0,0,0,.4);
}

/* INPUTS */
.inputs, .filters {
  display:flex; justify-content:center;
  gap:15px; margin-bottom:15px;
}

input,select {
  padding:12px; border:none; border-radius:12px;
  width:22%; font-size:15px; outline:none;
}

.add-btn{
  padding:12px 28px;
  background:linear-gradient(135deg,#00ff95,#00c16a);
  border:none; border-radius:12px;
  font-size:17px; font-weight:700;
  cursor:pointer; color:#000;
}
.add-btn:hover{ transform:scale(1.1); }

table{width:100%;text-align:center;margin-top:15px;font-size:17px;}
th,td {padding:12px;}
td button {
  padding:6px 12px; border:none;
  background:#ff4d6d; color:white;
  border-radius:10px; cursor:pointer;
}

canvas{margin-top:30px;}
</style>
</head>

<body>

<!-- WELCOME SCREEN -->
<section id="welcome">
  <div class="welcome-box">
    <h1 style="font-size:40px;font-weight:800;">Welcome to</h1>
    <h2 style="font-size:45px;font-weight:900; margin-top:10px;">Smart Expense Tracker</h2>
	<h4 style="font-size:20px;font-weight:200;"><I>track your expenses like pro.... </i>ðŸ˜ŠðŸ˜Ž</h4>
    <button class="enter-btn" onclick="openTracker()">TRACK YOUR EXPENSES . . .</button>
  </div>
</section>

<!-- MAIN APP -->
<section id="tracker">

<div class="header">Smart Expense Tracker</div>

<nav class="navbar">
  <button onclick="sortLowToHigh()">Lowâ†’High</button>
  <button onclick="sortHighToLow()">Highâ†’Low</button>
  <button onclick="sortByLatest()">Latest</button>
  <button class="theme-btn" onclick="toggleTheme()">ðŸŒ— Theme</button>
</nav>

<div class="container">

  <!-- FILTERS + SEARCH -->
  <div class="filters">
    <input id="search" type="text" placeholder="Search Title" onkeyup="applyFilters()">
    <select id="filterCategory" onchange="applyFilters()">
      <option value="">All Categories</option>
      <option>Food</option><option>Shopping</option><option>Travel</option><option>Education</option><option>Stationary</option><option>Others</option>
    </select>
    <select id="filterMonth" onchange="applyFilters()">
      <option value="">All Months</option>
      <option value="01">January</option><option value="02">February</option>
      <option value="03">March</option><option value="04">April</option>
      <option value="05">May</option><option value="06">June</option>
      <option value="07">July</option><option value="08">August</option>
      <option value="09">September</option><option value="10">October</option>
      <option value="11">November</option><option value="12">December</option>
    </select>
  </div>

  <div class="inputs">
  <form>
    <input type="text" id="title" placeholder="Title">
    <input type="number" id="amount" placeholder="Amount">
    <select id="category">
      <option>Food</option><option>Shopping</option><option>Travel</option><option>Education</option><option>Stationary</option><option>Others</option>
    </select>
    <button class="add-btn" onclick="addExpense()" type="reset">Add</button>
	</form>
	
  </div>

  <table id="expenseTable">
    <thead><tr><th>Title</th><th>Amount</th><th>Category</th><th>Delete</th></tr></thead>
    <tbody></tbody>
  </table>

  <canvas id="pieChart" width="330" height="330"></canvas>

</div>
</section>

<script>
// PAGE SWITCH
function openTracker(){
  document.getElementById("welcome").style.display="none";
  document.getElementById("tracker").style.display="block";
}

/* EXPENSE LOGIC */
let expenses = JSON.parse(localStorage.getItem("expenses")) || [];
renderTable(); generateChart();

function addExpense(){
  let title=document.getElementById("title").value;
  let amount=document.getElementById("amount").value;
  let cat=document.getElementById("category").value;
  if(!title || !amount) return alert("Please fill all fields");

  expenses.push({title,amount:Number(amount),cat,date:new Date()});
  localStorage.setItem("expenses",JSON.stringify(expenses));
  renderTable(); generateChart();
}

// TABLE
function renderTable(list = expenses){
  const tbody=document.querySelector("tbody");
  tbody.innerHTML="";
  list.forEach((e,i)=>{
    tbody.innerHTML+=`
    <tr>
      <td>${e.title}</td>
      <td>â‚¹${e.amount}</td>
      <td>${e.cat}</td>
      <td><button onclick="deleteExpense(${i})">X</button></td>
    </tr>`;
  });
}

function deleteExpense(i){
  expenses.splice(i,1);
  localStorage.setItem("expenses",JSON.stringify(expenses));
  applyFilters(); generateChart();
}

// FILTERING
function applyFilters(){
  let text=document.getElementById("search").value.toLowerCase();
  let category=document.getElementById("filterCategory").value;
  let month=document.getElementById("filterMonth").value;

  let filtered = expenses.filter(e=>{
    return (
      e.title.toLowerCase().includes(text) &&
      (category=="" || e.cat===category) &&
      (month=="" || (new Date(e.date).getMonth()+1).toString().padStart(2,"0")==month)
    );
  });

  renderTable(filtered);
}

// SORTING
function sortLowToHigh(){expenses.sort((a,b)=>a.amount-b.amount);applyFilters();}
function sortHighToLow(){expenses.sort((a,b)=>b.amount-a.amount);applyFilters();}
function sortByLatest(){expenses.sort((a,b)=>new Date(b.date)-new Date(a.date));applyFilters();}

// THEME
function toggleTheme(){document.body.classList.toggle("light");}

// PIE CHART
let chart;
function generateChart(){
  let ctx=document.getElementById("pieChart");
  if(chart) chart.destroy();
  let labels={}, data=[];
  expenses.forEach(e=>{labels[e.cat]=(labels[e.cat]||0)+Number(e.amount)});
  chart=new Chart(ctx,{type:"pie",data:{labels:Object.keys(labels),datasets:[{data:Object.values(labels)}]}});
}
</script>

</body>
</html>
